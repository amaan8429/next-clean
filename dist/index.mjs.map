{"version":3,"sources":["../src/index.ts"],"sourcesContent":["#! /usr/bin/env node\n\nimport path from \"path\";\nimport { Command } from \"commander\";\nimport { fileExists } from \"./functions\";\nimport {\n  handlePublicFolder,\n  handleReadmeFile,\n  handleFavicon,\n  handleLayoutFile,\n  handlePageFile,\n  handleGlobalsFile,\n} from \"./handles\";\n\nconst currentDir: string = process.cwd();\n\nconst program = new Command();\n\nprogram\n  .name(\"next-clean\")\n  .description(\"Clean and reset the boilerplate code in a Next.js project\")\n  .version(\"1.0.0\")\n  .helpOption(\"-h, --help\", \"Display help for command\")\n  .addHelpText(\n    \"after\",\n    `\n  GitHub: https://github.com/amaan8429/next-clean\n  \n  next-clean is a command-line tool designed to clean and reset the boilerplate code in a Next.js project. It aims to provide a fresh starting point for developers who want to work on a clean Next.js codebase without any unnecessary files or configurations.\n  `\n  );\n\nprogram.parse(process.argv);\n\nasync function main() {\n  const publicPath: string = path.join(currentDir, \"public\");\n  const readmePath: string = path.join(currentDir, \"README.md\");\n\n  await handlePublicFolder(publicPath);\n  await handleReadmeFile(readmePath);\n\n  const srcPath: string = path.join(currentDir, \"src\");\n  if (await fileExists(srcPath)) {\n    const appPath: string = path.join(srcPath, \"app\");\n    if (await fileExists(appPath)) {\n      console.log(\"You are using app directory, smart choice!\");\n      await handleFavicon(appPath);\n      await handleLayoutFile(appPath);\n      await handlePageFile(appPath);\n      await handleGlobalsFile(appPath);\n    }\n  } else if (await fileExists(currentDir)) {\n    const appPath: string = path.join(currentDir, \"app\");\n    if (await fileExists(appPath)) {\n      console.log(\"You are using app directory, smart choice!\");\n      await handleFavicon(appPath);\n      await handleLayoutFile(appPath);\n      await handlePageFile(appPath);\n    } else {\n      console.log(\"app folder does not exist , please check again\");\n    }\n  } else {\n    console.log(\n      \"no src folder found. Please run the command in the root of your next.js project.\"\n    );\n  }\n}\n"],"mappings":";;;AAGA,SAAS,eAAe;AAWxB,IAAM,aAAqB,QAAQ,IAAI;AAEvC,IAAM,UAAU,IAAI,QAAQ;AAE5B,QACG,KAAK,YAAY,EACjB,YAAY,2DAA2D,EACvE,QAAQ,OAAO,EACf,WAAW,cAAc,0BAA0B,EACnD;AAAA,EACC;AAAA,EACA;AAAA;AAAA;AAAA;AAAA;AAKF;AAEF,QAAQ,MAAM,QAAQ,IAAI;","names":[]}